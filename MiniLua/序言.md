# MiniLua语言

Lua语法是一门小巧的脚本语言，如果你希望学习制作一门脚本语言，那么本实验则非常适合你上手。

在本实验中，你将学习到：

1. 使用Flex和Bison自动生成词法、语法分析器
2. 使用宏翻译的模式将语言翻译为字节码
3. 构建脚本语言所需要的一系列基础设施
4. 构建虚拟机，解释执行字节码


在这个实验中，我们推荐你使用VSCode作为开发工具，Linux作为开发环境。Windows的用户可以选择使用WSL安装一个Ubuntu子系统。当然你也可以选择从Github上下载模板，选择你喜欢的编辑器和开发环境。
这里我们还提供了一个全功能的网页端调试器帮助你可视化编译期间的各种信息，你可以点击下面的按钮来打开它。

<el-button type="primary" href=''>在VSCode中打开</el-button>
<el-button type="info" href='https://github.com/PoEdu/MiniLua'>打开Github</el-button>
<el-button type="success" tag="a" href='Debug.html'>打开调试器</el-button>

## 第零阶段：环境配置

如果您还不熟悉我们将使用的开发环境，我们推荐您先阅读[环境配置](/极速教程/环境配置.md)。

## 第一阶段：基础代码框架

在这个阶段，你需要首先完成一个大致的代码框架，很多模块可能还都暂时没有实现，但我们大致确定好结构、接口、流程。这样就可以让你在后面的实验中，可以很方便的进行扩展。

## 第二阶段：词法分析器

在这个阶段，你需要完成词法分析器的实现。你需要使用Flex来编写词法分析器，同时你需要实现一个Token类来表示词法分析器的输出。

## 第三阶段：语法分析器

在这个阶段，你需要完成语法分析器的实现。你需要使用Bison来编写语法分析器，同时你需要实现一个AST类来表示语法分析器的输出。

## 第四阶段：定义字节码和虚拟机

在这个阶段，你需要完成字节码的定义和虚拟机的实现。你需要实现一个字节码类来表示字节码，同时你需要实现一个虚拟机类来执行字节码。

## 第五阶段：将AST翻译为字节码

在这个阶段，你需要完成将AST翻译为字节码的实现。你需要实现一个字节码生成器类来将AST翻译为字节码。

## 第六阶段：实现更多的库

在这个阶段，你需要完善你的语言，实现更多的库函数，让你的语言可以做更多的事情。允许库的导入，并尝试编写一个简单的标准库。

