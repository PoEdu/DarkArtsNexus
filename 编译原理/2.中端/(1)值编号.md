值编号（Value Numbering）
=======================


**值编号**是一种简单的表达式优化技术，它通过在程序中识别出相同的表达式，然后将它们替换为同一个临时变量来消除冗余的计算。

这种技术的基本思想是，如果两个表达式的值相同，那么它们就可以用同一个临时变量来表示。例如，对于表达式`a+b`和`c+d`，如果`a=c`且`b=d`，那么这两个表达式的值就相同，可以用同一个临时变量来表示。这样我们通过对每个表达式都进行标号，就可以追踪每个表达式的值，从而消除冗余的计算。


## 一个直观的例子

```c
a = b + c
b = a – d
c = b + c
d = a – d
```

我们能否对上面这段代码进行优化呢？我们一下子就可以看出，这里面有两组完全相同的表达式 `b+c` 和 `a-d`。
然而我们并不能简单的将重复的部分用一个临时变量来表示，因为我们仔细看，`b = a – d`时，我们修改了`b`的值，所以第一个`b+c`和第二个`b+c`并不是同一个值。
而因为我们没有修改`a-d`的值，所以后一个`a-d`可以用`b`的值来表示。

优化后的代码如下：

```c
a = b + c
b = a – d
c = b + c
d = b
```



## 值编号的基本原理







## 在不同代码层级应该值编号技术

### Basic Block

### Extended Basic Block

### Region

### Global










